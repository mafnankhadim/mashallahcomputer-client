import{r as s,j as t,c as D}from"./index-Dgm2b_BD.js";/* empty css                  */import{A as C,P as A,C as w}from"./ConfirmModal-BfnoL7k8.js";const S=[{id:"J-1001",company:"WAPDA",title:"Assistant Executive Engineer (WAPDA)",image:"https://picsum.photos/seed/job1/200/140",postDate:"01 FEB, 2026",lastDate:"15 FEB, 2026",location:"Nationwide",description:"Responsible for maintenance and operations of water & power projects. The role includes supervising contractors, coordinating with regional teams, performing inspections, preparing technical reports and ensuring compliance with safety and environmental standards."},{id:"J-1002",company:"Tech Solutions",title:"Frontend Engineer",image:"https://picsum.photos/seed/job2/200/140",postDate:"28 JAN, 2026",lastDate:"10 FEB, 2026",location:"Lahore",description:"Build and maintain responsive web applications using React. Work with designers and backend engineers to deliver performant user experiences."}],F=()=>{const[r,h]=s.useState(()=>S),[m,g]=s.useState(""),[l,b]=s.useState("All"),[d,p]=s.useState(null),[x,c]=s.useState(!1),[o,n]=s.useState({company:"",title:"",image:"",postDate:"",lastDate:"",location:"",description:""}),j=s.useMemo(()=>[{header:"Image",id:"image",cell:({row:e})=>t.jsx("img",{src:e.original.image,alt:e.original.title,className:"product-thumb"})},{header:"Job ID",accessorKey:"id"},{header:"Title",accessorKey:"title"},{header:"Company",accessorKey:"company"},{header:"Description",accessorKey:"description",cell:({getValue:e})=>{const a=String(e()||""),u=a.length>80?a.slice(0,80)+"...":a;return t.jsx("span",{title:a,className:"table-desc",children:u})}},{header:"Location",accessorKey:"location"},{header:"Post Date",accessorKey:"postDate"},{header:"Last Date",accessorKey:"lastDate"},{header:"Action",id:"actions",cell:({row:e})=>t.jsxs("div",{className:"row-action",children:[t.jsx("button",{className:"icon-btn",onClick:()=>alert(`Edit ${e.original.title}`),title:"Edit",children:t.jsx("i",{className:"bi bi-pencil","aria-hidden":"true"})}),t.jsx("button",{className:"icon-btn",onClick:()=>p(e.original),title:"Delete",children:t.jsx("i",{className:"bi bi-trash","aria-hidden":"true"})})]})}],[]),i=s.useRef(null),y=s.useMemo(()=>{const e=new Set(r.map(a=>a.company));return["All",...Array.from(e)]},[r]),f=s.useMemo(()=>!l||l==="All"?r:r.filter(e=>e.company===l),[r,l]),v=()=>{i.current&&typeof i.current.exportCSV=="function"&&i.current.exportCSV("jobs.csv")};return D.useEffect(()=>{if(i.current&&i.current.table)try{i.current.table.setPageIndex(0)}catch{}},[l]),t.jsxs("div",{children:[t.jsx("div",{className:"card-header"}),t.jsxs("div",{className:"card-body",children:[t.jsx(C,{title:"Jobs",categories:y,selectedCategory:l,onCategoryChange:b,onAdd:()=>c(!0),addLabel:"+ Add job",onExport:v,globalFilter:m,onGlobalFilterChange:g}),t.jsx(A,{ref:i,data:f,columns:j,globalFilter:m,onGlobalFilterChange:g,initialPageSize:10,pageSizeOptions:[5,10,20]}),d&&t.jsx(w,{title:"Delete job",message:`Are you sure you want to delete ${d.title}?`,onCancel:()=>p(null),onConfirm:()=>{alert(`Deleted ${d.title}`),p(null)},confirmLabel:"Delete"}),x&&t.jsx("div",{className:"modal-overlay",onClick:()=>c(!1),children:t.jsxs("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[t.jsx("h4",{children:"Add job"}),t.jsxs("div",{style:{display:"grid",gap:8},children:[t.jsx("input",{placeholder:"Company",value:o.company,onChange:e=>n(a=>({...a,company:e.target.value}))}),t.jsx("input",{placeholder:"Title",value:o.title,onChange:e=>n(a=>({...a,title:e.target.value}))}),t.jsx("input",{placeholder:"Image URL",value:o.image,onChange:e=>n(a=>({...a,image:e.target.value}))}),t.jsx("input",{placeholder:"Post Date (e.g. 01 FEB, 2026)",value:o.postDate,onChange:e=>n(a=>({...a,postDate:e.target.value}))}),t.jsx("input",{placeholder:"Last Date (e.g. 15 FEB, 2026)",value:o.lastDate,onChange:e=>n(a=>({...a,lastDate:e.target.value}))}),t.jsx("input",{placeholder:"Location",value:o.location,onChange:e=>n(a=>({...a,location:e.target.value}))}),t.jsx("textarea",{placeholder:"Long description",rows:4,value:o.description,onChange:e=>n(a=>({...a,description:e.target.value}))})]}),t.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:12},children:[t.jsx("button",{className:"btn",onClick:()=>c(!1),children:"Cancel"}),t.jsx("button",{className:"btn",onClick:()=>{if(!o.title){alert("Please enter a job title");return}const a={id:`J-${Date.now()}`,...o};h(u=>[a,...u]),c(!1),n({company:"",title:"",image:"",postDate:"",lastDate:"",location:"",description:""})},children:"Save"})]})]})})]})]})};export{F as default};
